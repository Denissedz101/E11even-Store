<!DOCTYPE html>
<!-- Formulario de Registro con Switch para Admin -->
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Bootstrap CDN -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="css/estilos-registro.css">
		<title>Formulario de Registro</title>
	</head>
	<body>
		
		 <!-- Header Com√∫n -->
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="https://i.ibb.co/GvXS0cZG/E11EVEN.png" alt="Logo">
            </div>
            <div class="nav-menu">
                <ul>
                    <li><a href="#">üè† Inicio</a></li>
                    <li><a href="menu-categorias.html">‚â£ Categor√≠as</a></li>
                    <li><a href="carro_compras.html">üõí Carrito</a></li>
                    <li><a href="contacto.html">‚úâ Contacto</a></li>
                    <li><a href="inicio_sesion.html">
                        <span class="registro-link">Ingresa a tu cuenta</span> </a>
                    </li>
                    <li><a href="formulario_registro.html" class="login-btn">Registrate</a></li>
                </ul>
            </div>
        </div>
    </header>
		
		<div class="container-formulario">
			<div class="row justify-content-center"></div>
			<div class="col-md-12">
                <div class="shadow-lg p-4 mb-5 bg-body rounded">
                    <h2 class="text-center">Formulario de Registro</h2>
						<form id="registroForm">
							<div class="mb-3">
                            <label for="usuario" class="form-label">Usuario</label>
                            <input type="text" class="form-control" id="usuario" placeholder="Ingrese su usuario" required>
                            <small class="text-danger" id="errorUsuario"></small>
                        </div>

                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="nombre" placeholder="Ingrese su nombre" required>
                            <small class="text-danger" id="errorNombre"></small>
                        </div>

                        <div class="mb-3">
                            <label for="apellidos" class="form-label">Apellidos</label>
                            <input type="text" class="form-control" id="apellidos" placeholder="Ingrese sus apellidos" required>
                            <small class="text-danger" id="errorApellidos"></small>
                        </div>

                        <div class="mb-3">
                            <label for="rut" class="form-label">RUT</label>
                            <input type="text" class="form-control" id="rut" placeholder="12345678-9" required>
                            <small class="text-danger" id="errorRut"></small>
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Correo Electr√≥nico</label>
                            <input type="email" class="form-control" id="email" placeholder="correo@email.com" required>
                            <small class="text-danger" id="errorEmail"></small>
                        </div>

                        <div class="mb-3">
                            <label for="clave" class="form-label">Contrase√±a</label>
                            <input type="password" class="form-control" id="clave" placeholder="Ingrese su contrase√±a" required>
                            <small class="text-danger" id="errorClave"></small>
                        </div>

                        <div class="mb-3">
                            <label for="repetirClave" class="form-label">Repita su Contrase√±a</label>
                            <input type="password" class="form-control" id="repetirClave" placeholder="Repita su contrase√±a" required>
                            <small class="text-danger" id="errorRepetirClave"></small>
                        </div>

                        <div class="mb-3">
                            <label for="fechaNacimiento" class="form-label">Fecha de Nacimiento</label>
                            <input type="date" class="form-control" id="fechaNacimiento" required>
                            <small class="text-danger" id="errorFechaNacimiento"></small>
                        </div>

                        <div class="mb-3">
                            <label for="direccion" class="form-label">Direcci√≥n (Opcional)</label>
                            <input type="text" class="form-control" id="direccion" placeholder="Ingrese su direcci√≥n">
                        </div>
							
							<!-- Bot√≥n para enviar registro -->
						<form>
							<button type="submit" class="btn btn-primary">Registrarse</button>
							<button type="reset" class="btn btn-secondary">Limpiar</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Bot√≥n para volver al inicio -->
		<a href="index.html" class="back-btn">ü†î Volver a Inicio</a>
		
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
		
			function validarUsuario() {
            let usuario = document.getElementById("usuario").value.trim();
            document.getElementById("errorUsuario").innerText = usuario ? "" : "El usuario es obligatorio.";
        }

        function validarNombre() {
            let nombre = document.getElementById("nombre").value.trim();
            document.getElementById("errorNombre").innerText = nombre ? "" : "El nombre es obligatorio.";
        }

        function validarApellidos() {
            let apellidos = document.getElementById("apellidos").value.trim();
            document.getElementById("errorApellidos").innerText = apellidos ? "" : "Los apellidos son obligatorios.";
        }

        function validarRut() {
            let rut = document.getElementById("rut").value.trim();
            let regex = /^[0-9]{7,8}-[0-9Kk]$/;
            document.getElementById("errorRut").innerText = regex.test(rut) ? "" : "Formato de RUT inv√°lido.";
        }

        function validarEmail() {
            let email = document.getElementById("email").value.trim();
            let regex = /^[^@\s]+@[^@\s]+\.[^@\s]+$/;
            document.getElementById("errorEmail").innerText = regex.test(email) ? "" : "Ingrese un correo electr√≥nico v√°lido.";
        }

        function validarContrasena() {
            let clave = document.getElementById("clave").value;
            let regex = /(?=.*\d)(?=.*[A-Z]).{6,18}/;
            document.getElementById("errorClave").innerText = regex.test(clave) ? "" : "La contrase√±a debe contener al menos un n√∫mero, una letra may√∫scula y entre 6 y 18 caracteres.";
        }

        function validarRepetirClave() {
            let clave = document.getElementById("clave").value;
            let repetirClave = document.getElementById("repetirClave").value;
            document.getElementById("errorRepetirClave").innerText = clave === repetirClave ? "" : "Las contrase√±as no coinciden.";
        }
			
			function redirigirAdmin() {
				const isAdmin = document.getElementById('switchAdmin').checked;
				if(isAdmin){
					window.location.href = 'login-admin.html';
					} else {
					alert('Activa el switch para acceder al login de Administrador.');
				}
			}
			
			// validaci√≥n de correo (simulaci√≥n)
			document.getElementById('email').addEventListener('blur', function() {
				let email = this.value.trim();
				// Simulamos la validacion
				let correoRegistrado = false; // cambiamos a true para simular correo existente 
				if(correoRegistrado) {
					document.getElementById('errorEmail').innerText = "El correo ya est√° registrado. Por favor, inicia sesi√≥n."; // Podemos cambiar el mensaje para efectos de esta simulacion
					setTimeout(() => {
						window.location.href = 'inicio_sesion.html';
					}, 2000);
					} else {
					document.getElementById('errorEmail').innerText = "";
				}
			});
		</script>
		
		<!-- Footer -->
		<footer class="container text-center py-3">
			<p class="footer-text">&copy; 2025 Store E11even - Todos los derechos reservados</p>
		</footer>
	</body>
</html>
